<!DOCTYPE html>
<html lang="en-us">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
		<title>Tristan Ernhart</title>
		<link rel="stylesheet" type="text/css" href="assets/css/style.css">
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
		<script src="require.js"></script>
		<!--<script src="node_modules/file-system/file-system.js"></script>-->
		<!--<script>var fs = require("fs")</script>-->
	</head>
	<body>
		<div id="output"></div>
		<section>
              <div class="form-group">
                <label for=""></label>
                <input type="text" class="form-control" id="text_area">
              </div>
			<div>
				<button id="button_1" onclick="playlist($('#text_area'))">push me</button>
				<img src="Capture.png" id='FUCK'>
			</div>

		</section>	
	</body>
	<script>
		$(document).ready(function() {
			$("#button_1").on("click",playlist($("#text_area").val()))
			$("#FUCK").on("click", function(){console.log("clicked")})
			function playlist(initial_text){
				var playlist = initial_text.split(" ")
				var audio = var audio = new Audio("sounds/"+playlist[0]+"_"+getRandomInt(2)+'.mp3');
				var timer = audio.duration
				play_audio(playlist,timer, audio)
			}
			function play_audio(playlist,timer,force_audio){

			    setTimeout(() => {
			    	console.log("sound")
			    	//play sound here
			    	if(force_audio!=false){
			    		var audio = new Audio(force_audio)
			    	}
			    	if(force_audio==false){
			    		var audio = new Audio("sounds/"+playlist[0]+"_"+getRandomInt(2)+'.mp3');
			    	}


					audio.play();
			    	//remove sound from playlist
			    	playlist.shift()
			    	//recursive
			    	var timer = audio.duration()
			    	play_audio(playlist,timer,false)

			    }, timer+5);
			}

			function getRandomInt(max) {
	  			return Math.floor(Math.random() * Math.floor(max) + 1);
			}
		}


	</script>
	<footer>
		
	</footer>
</html>